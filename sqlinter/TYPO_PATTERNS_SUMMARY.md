# üîß –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –æ–ø–µ—á–∞—Ç–æ–∫ –¥–ª—è SQL

## üìã –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

–°–æ–∑–¥–∞–Ω –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –æ–ø–µ—á–∞—Ç–æ–∫ –¥–ª—è –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–≥–æ —É–ª—É—á—à–µ–Ω–∏—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –ø–æ–∏—Å–∫–∞ SQL –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ Python —Ñ–∞–π–ª–∞—Ö. –¢–µ–ø–µ—Ä—å `sql_searcher.py` –Ω–∞—Ö–æ–¥–∏—Ç –¥–∞–∂–µ —Å–∏–ª—å–Ω–æ –∏—Å–∫–∞–∂–µ–Ω–Ω—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –æ–ø–µ—á–∞—Ç–∫–∞–º–∏.

## üöÄ –°–æ–∑–¥–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. **typo_generator.py** - –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –æ–ø–µ—á–∞—Ç–æ–∫
- **319KB** —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- **105 –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤** (SELECT + FROM —Å –æ–ø–µ—á–∞—Ç–∫–∞–º–∏)
- **82 —Å–ª–æ–≤–∞—Ä–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–∞** (–æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–ª–æ–≤–∞ —Å –æ–ø–µ—á–∞—Ç–∫–∞–º–∏)
- **841 —Å—Ç—Ä–æ–∫–∞** JSON —Å –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏

### 2. **sql_typo_patterns.json** - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –æ–ø–µ—á–∞—Ç–æ–∫
```json
{
  "context_patterns": {
    "SELECT_typos_with_FROM": {
      "pattern": "\\b(SELCT|SELEC|SLECT|...)\\b.*\\bFROM\\b",
      "description": "–û–ø–µ—á–∞—Ç–∫–∏ –≤ SELECT —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º FROM"
    }
  },
  "word_patterns": {
    "SELECT_typos": {
      "pattern": "\\b(selevt|Aelect|seldct|...)\\b",
      "typos_count": 245
    }
  }
}
```

### 3. **–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π sql_searcher.py**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∏–∑ JSON
- –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –æ–ø–µ—á–∞—Ç–æ–∫
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ–ø–µ—á–∞—Ç–æ–∫

## üß† –¢–∏–ø—ã –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã—Ö –æ–ø–µ—á–∞—Ç–æ–∫

### **–ü—Ä–æ–ø—É—Å–∫ —Å–∏–º–≤–æ–ª–æ–≤**
- `SELECT` ‚Üí `SELCT`, `SLECT`, `ELECT`
- `FROM` ‚Üí `FOM`, `ROM`, `FRM`

### **–ü–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏–º–≤–æ–ª–æ–≤**
- `FROM` ‚Üí `FORM`, `FRMO`
- `WHERE` ‚Üí `WHREE`, `HWERE`

### **–ó–∞–º–µ–Ω–∞ —Å–∏–º–≤–æ–ª–æ–≤**
- –°–æ—Å–µ–¥–Ω–∏–µ –∫–ª–∞–≤–∏—à–∏: `SELECT` ‚Üí `CELECT`, `GELECT`
- –†—É—Å—Å–∫–∞—è —Ä–∞—Å–∫–ª–∞–¥–∫–∞: `SELECT` ‚Üí `–´–£–ö–£–°–ï`

### **–õ–∏—à–Ω–∏–µ —Å–∏–º–≤–æ–ª—ã**
- `INSERT` ‚Üí `INSERTT`, `INSEERT`
- `UPDATE` ‚Üí `UPDAATE`, `UPPDDATE`

### **–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –æ–ø–µ—á–∞—Ç–∫–∏**
- `SELECT` ‚Üí `SELCT`, `SEELCT`
- `WHERE` ‚Üí `WERE`, `WHRE`
- `CREATE` ‚Üí `CREAT`, `CRAETE`

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### **–¢–æ—á–Ω–æ—Å—Ç—å –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è: 95.5%**
- ‚úÖ **21/22** —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–ª—É—á–∞–µ–≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω—ã
- ‚úÖ –í—Å–µ **–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ SQL** –∑–∞–ø—Ä–æ—Å—ã –Ω–∞–π–¥–µ–Ω—ã
- ‚úÖ –í—Å–µ **SQL —Å –æ–ø–µ—á–∞—Ç–∫–∞–º–∏** –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã
- ‚ùå 1 –ª–æ–∂–Ω–æ–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–µ: `"Please SELECT your option"`

### **–ù–∞–π–¥–µ–Ω–Ω—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã —Å –æ–ø–µ—á–∞—Ç–∫–∞–º–∏:**
```python
"SELCT * FROM users"                    # –û–ø–µ—á–∞—Ç–∫–∞ –≤ SELECT
"SELECT * FORM users"                   # –û–ø–µ—á–∞—Ç–∫–∞ –≤ FROM  
"INSERTT INTO table VALUES (1)"         # –û–ø–µ—á–∞—Ç–∫–∞ –≤ INSERT
"UPDAT users SET name = 'test'"         # –û–ø–µ—á–∞—Ç–∫–∞ –≤ UPDATE
"DELET FROM old_data"                   # –û–ø–µ—á–∞—Ç–∫–∞ –≤ DELETE
"SELCT name FORM users WERE id > 10"    # –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ–ø–µ—á–∞—Ç–∫–∏
"CREAT TABLE users (id INT)"            # –û–ø–µ—á–∞—Ç–∫–∞ –≤ CREATE
"DORP INDEX old_index"                  # –û–ø–µ—á–∞—Ç–∫–∞ –≤ DROP
```

## üéØ –ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### **–î–æ —É–ª—É—á—à–µ–Ω–∏—è:**
- 7 –ø—Ä–æ—Å—Ç—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –æ–ø–µ—á–∞—Ç–æ–∫
- –ù–∞—Ö–æ–¥–∏–ª —Ç–æ–ª—å–∫–æ –æ—á–µ–≤–∏–¥–Ω—ã–µ –æ—à–∏–±–∫–∏
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

### **–ü–æ—Å–ª–µ —É–ª—É—á—à–µ–Ω–∏—è:**
- **187 –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤** (105 –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã—Ö + 82 —Å–ª–æ–≤–∞—Ä–Ω—ã—Ö)
- **–¢—ã—Å—è—á–∏ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ–ø–µ—á–∞—Ç–æ–∫** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ SQL —Å–ª–æ–≤–∞
- **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑** (SELECT + FROM —Å –æ–ø–µ—á–∞—Ç–∫–∞–º–∏)
- **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ–ø–µ—á–∞—Ç–∫–∏** –≤ –æ–¥–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ
- **–†–∞–∑–ª–∏—á–Ω—ã–µ —Ä–µ–≥–∏—Å—Ç—Ä—ã** –∏ —Ä–∞—Å–∫–ª–∞–¥–∫–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã

## üîß –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

```
typo_generator.py
    ‚Üì [–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç]
sql_typo_patterns.json (319KB)
    ‚Üì [–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤]
sql_searcher.py
    ‚Üì [–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞]
Python —Ñ–∞–π–ª—ã —Å SQL
```

### **–ê–ª–≥–æ—Ä–∏—Ç–º –ø–æ–∏—Å–∫–∞:**
1. **–°–∏–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã** - SELECT, INSERT, UPDATE, DELETE
2. **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã** - –æ–ø–µ—á–∞—Ç–∫–∏ –≤ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å–ª–æ–≤–∞—Ö
3. **–°–ª–æ–≤–∞—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã** - –æ–ø–µ—á–∞—Ç–∫–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–ª–æ–≤–∞—Ö  
4. **–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑** - 2+ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è = SQL –∑–∞–ø—Ä–æ—Å

## üíª –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤:**
```bash
python scripts/typo_generator.py
```

### **–ü–æ–∏—Å–∫ SQL —Å –æ–ø–µ—á–∞—Ç–∫–∞–º–∏:**
```python
from sql_searcher import SQLSearcher

searcher = SQLSearcher()  # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω—ã
results = searcher.find_sql_in_file('my_script.py')

# –§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞:
# [{'sql_query': 'SELCT * FORM users', 'start_pos': 45, 'end_pos': 67}]
```

### **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ main.py:**
–£–∂–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ! `SQLSearcher` –∑–∞–º–µ–Ω–∏–ª `SQLCallVisitor` —Å –ø–æ–ª–Ω–æ–π –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å—é.

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞

- **82 SQL –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤–∞** –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ
- **>10,000 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ–ø–µ—á–∞—Ç–æ–∫** —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ
- **5 —Ç–∏–ø–æ–≤ –æ–ø–µ—á–∞—Ç–æ–∫** –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è
- **319KB –¥–∞–Ω–Ω—ã—Ö** –≤ JSON —Ñ–∞–π–ª–µ
- **95.5% —Ç–æ—á–Ω–æ—Å—Ç—å** –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è

## üéâ –ò—Ç–æ–≥–∏

–°–æ–∑–¥–∞–Ω–∞ –º–æ—â–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è SQL –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –æ–ø–µ—á–∞—Ç–∫–∞–º–∏, –∫–æ—Ç–æ—Ä–∞—è:

‚úÖ **–ù–∞—Ö–æ–¥–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã**  
‚úÖ **–û–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç SQL —Å –æ–ø–µ—á–∞—Ç–∫–∞–º–∏**  
‚úÖ **–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–æ—á–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ —Å–∏–º–≤–æ–ª–æ–≤**  
‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ–ø–µ—á–∞—Ç–∫–∏**  
‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞–º–∏**  
‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –≤ –æ—Å–Ω–æ–≤–Ω—É—é —Å–∏—Å—Ç–µ–º—É**  
‚úÖ **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—ã—Å–æ–∫—É—é —Ç–æ—á–Ω–æ—Å—Ç—å (95.5%)**  

–¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ –¥–∞–∂–µ —Ç–∞–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã:
`"SELEVT u.name FORM users u JION posts p ON u.id = p.user_id"`

---
*–ó–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞! –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.* 